{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport api from '../api/api';\nconst useAuth = () => {\n  _s();\n  const {\n    setUser,\n    setIsAuthenticated\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await api.get('/auth/check'); // Adjust the endpoint as needed\n        setUser(response.data.user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        setUser(null);\n        setIsAuthenticated(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuth();\n  }, [setUser, setIsAuthenticated]);\n  const login = async credentials => {\n    const response = await api.post('/auth/login', credentials);\n    setUser(response.data.user);\n    setIsAuthenticated(true);\n  };\n  const logout = async () => {\n    await api.post('/auth/logout');\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n  return {\n    loading,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"aN60ebwtSmU+wEM02gh8zZcEUgQ=\");\nexport default useAuth;","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","api","useAuth","_s","setUser","setIsAuthenticated","loading","setLoading","checkAuth","response","get","data","user","error","login","credentials","post","logout"],"sources":["C:/Users/lacbu/Desktop/PROJECT_LMS/lms-project/frontend/src/hooks/useAuth.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport api from '../api/api';\n\nconst useAuth = () => {\n    const { setUser, setIsAuthenticated } = useContext(AuthContext);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            try {\n                const response = await api.get('/auth/check'); // Adjust the endpoint as needed\n                setUser(response.data.user);\n                setIsAuthenticated(true);\n            } catch (error) {\n                setUser(null);\n                setIsAuthenticated(false);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuth();\n    }, [setUser, setIsAuthenticated]);\n\n    const login = async (credentials) => {\n        const response = await api.post('/auth/login', credentials);\n        setUser(response.data.user);\n        setIsAuthenticated(true);\n    };\n\n    const logout = async () => {\n        await api.post('/auth/logout');\n        setUser(null);\n        setIsAuthenticated(false);\n    };\n\n    return { loading, login, logout };\n};\n\nexport default useAuth;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,GAAG,MAAM,YAAY;AAE5B,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM;IAAEC,OAAO;IAAEC;EAAmB,CAAC,GAAGN,UAAU,CAACC,WAAW,CAAC;EAC/D,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ,MAAMU,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMR,GAAG,CAACS,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;QAC/CN,OAAO,CAACK,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC;QAC3BP,kBAAkB,CAAC,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOQ,KAAK,EAAE;QACZT,OAAO,CAAC,IAAI,CAAC;QACbC,kBAAkB,CAAC,KAAK,CAAC;MAC7B,CAAC,SAAS;QACNE,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDC,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACJ,OAAO,EAAEC,kBAAkB,CAAC,CAAC;EAEjC,MAAMS,KAAK,GAAG,MAAOC,WAAW,IAAK;IACjC,MAAMN,QAAQ,GAAG,MAAMR,GAAG,CAACe,IAAI,CAAC,aAAa,EAAED,WAAW,CAAC;IAC3DX,OAAO,CAACK,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC;IAC3BP,kBAAkB,CAAC,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMY,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvB,MAAMhB,GAAG,CAACe,IAAI,CAAC,cAAc,CAAC;IAC9BZ,OAAO,CAAC,IAAI,CAAC;IACbC,kBAAkB,CAAC,KAAK,CAAC;EAC7B,CAAC;EAED,OAAO;IAAEC,OAAO;IAAEQ,KAAK;IAAEG;EAAO,CAAC;AACrC,CAAC;AAACd,EAAA,CAlCID,OAAO;AAoCb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}