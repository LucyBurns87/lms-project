{"ast":null,"code":"import axios from \"axios\";\nimport API from \"./axios\";\nexport async function login(username, password) {\n  const response = await API.post(\"/token/\", {\n    username,\n    password\n  });\n  localStorage.setItem(\"access\", response.data.access);\n  localStorage.setItem(\"refresh\", response.data.refresh);\n  return response.data;\n}\nexport async function refreshToken() {\n  const refresh = localStorage.getItem(\"refresh\");\n  const response = await axios.post(`${API_URL}/token/refresh/`, {\n    refresh\n  });\n  localStorage.setItem(\"access\", response.data.access);\n  return response.data.access;\n}\nexport async function getUser() {\n  const token = localStorage.getItem(\"access\");\n  const response = await axios.get(`${API_URL}/users/me/`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data; // includes role\n}","map":{"version":3,"names":["axios","API","login","username","password","response","post","localStorage","setItem","data","access","refresh","refreshToken","getItem","API_URL","getUser","token","get","headers","Authorization"],"sources":["C:/Users/lacbu/Desktop/PROJECT_LMS/lms-project/frontend/src/api/auth.js"],"sourcesContent":["import axios from \"axios\";\r\nimport API from \"./axios\";\r\n\r\nexport async function login(username, password) {\r\n  const response = await API.post(\"/token/\", { username, password });\r\n  localStorage.setItem(\"access\", response.data.access);\r\n  localStorage.setItem(\"refresh\", response.data.refresh);\r\n  return response.data;\r\n}\r\n\r\n\r\nexport async function refreshToken() {\r\n  const refresh = localStorage.getItem(\"refresh\");\r\n  const response = await axios.post(`${API_URL}/token/refresh/`, { refresh });\r\n  localStorage.setItem(\"access\", response.data.access);\r\n  return response.data.access;\r\n}\r\n\r\nexport async function getUser() {\r\n  const token = localStorage.getItem(\"access\");\r\n  const response = await axios.get(`${API_URL}/users/me/`, {\r\n    headers: { Authorization: `Bearer ${token}` }\r\n  });\r\n  return response.data; // includes role\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,SAAS;AAEzB,OAAO,eAAeC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAC9C,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,SAAS,EAAE;IAAEH,QAAQ;IAAEC;EAAS,CAAC,CAAC;EAClEG,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEH,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC;EACpDH,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEH,QAAQ,CAACI,IAAI,CAACE,OAAO,CAAC;EACtD,OAAON,QAAQ,CAACI,IAAI;AACtB;AAGA,OAAO,eAAeG,YAAYA,CAAA,EAAG;EACnC,MAAMD,OAAO,GAAGJ,YAAY,CAACM,OAAO,CAAC,SAAS,CAAC;EAC/C,MAAMR,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,GAAGQ,OAAO,iBAAiB,EAAE;IAAEH;EAAQ,CAAC,CAAC;EAC3EJ,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEH,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC;EACpD,OAAOL,QAAQ,CAACI,IAAI,CAACC,MAAM;AAC7B;AAEA,OAAO,eAAeK,OAAOA,CAAA,EAAG;EAC9B,MAAMC,KAAK,GAAGT,YAAY,CAACM,OAAO,CAAC,QAAQ,CAAC;EAC5C,MAAMR,QAAQ,GAAG,MAAML,KAAK,CAACiB,GAAG,CAAC,GAAGH,OAAO,YAAY,EAAE;IACvDI,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUH,KAAK;IAAG;EAC9C,CAAC,CAAC;EACF,OAAOX,QAAQ,CAACI,IAAI,CAAC,CAAC;AACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}